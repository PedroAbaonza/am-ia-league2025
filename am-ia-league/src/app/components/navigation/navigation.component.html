<nav class="navbar">
  <div class="nav-container">
    <!-- Logo y Branding -->
    <div class="nav-brand">
      <a (click)="navigateToHome()" class="brand-logo" style="cursor: pointer">
        <app-logo type="ai-league" size="medium" [showText]="false"> </app-logo>
      </a>
    </div>

    <!-- Menu Desktop -->
    <div class="nav-menu" [class.active]="isMenuOpen">
      <a
        (click)="navigateToHome()"
        class="nav-link"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        style="cursor: pointer"
      >
        Home
      </a>
      <a
        (click)="navigateToLeaderboard()"
        class="nav-link"
        routerLinkActive="active"
        style="cursor: pointer"
      >
        Leaderboard
      </a>
      <a
        (click)="navigateToIndividual()"
        class="nav-link"
        routerLinkActive="active"
        style="cursor: pointer"
      >
        Individual
      </a>

      <!-- Search Bar in Mobile Menu -->
      <div class="nav-search-mobile">
        <div class="search-input-wrapper">
          <svg
            class="search-icon-left"
            xmlns="http://www.w3.org/2000/svg"
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input
            type="text"
            class="search-input"
            placeholder="Buscar participante..."
            [(ngModel)]="searchQuery"
            (keyup)="onSearch()"
            [class.has-results]="searchResults.length > 0"
          />
        </div>

        <!-- Search Results Dropdown Mobile -->
        <div class="search-results" *ngIf="searchResults.length > 0">
          <div
            class="search-result-item"
            *ngFor="let result of searchResults"
            (click)="selectParticipant(result)"
          >
            <div
              class="result-avatar"
              [style.background]="getSquadColor(result.squadId)"
            >
              {{ result.avatar }}
            </div>
            <div class="result-info">
              <div class="result-name">{{ result.name }}</div>
              <div class="result-meta">
                {{ result.squadName }} • {{ result.position }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Search Bar Desktop -->
    <div class="nav-search-desktop">
      <svg
        class="search-icon-left"
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      <input
        type="text"
        class="search-input"
        placeholder="Buscar participante..."
        [(ngModel)]="searchQuery"
        (keyup)="onSearch()"
        [class.has-results]="searchResults.length > 0"
      />

      <!-- Search Results Dropdown Desktop -->
      <div class="search-results" *ngIf="searchResults.length > 0">
        <div
          class="search-result-item"
          *ngFor="let result of searchResults"
          (click)="selectParticipant(result)"
        >
          <div
            class="result-avatar"
            [style.background]="getSquadColor(result.squadId)"
          >
            {{ result.avatar }}
          </div>
          <div class="result-info">
            <div class="result-name">{{ result.name }}</div>
            <div class="result-meta">
              {{ result.squadName }} • {{ result.position }}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Mobile Menu Toggle -->
    <button
      class="mobile-toggle"
      (click)="toggleMenu()"
      [class.active]="isMenuOpen"
    >
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
  </div>
</nav>
